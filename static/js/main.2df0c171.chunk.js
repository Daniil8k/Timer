(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{12:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n(6),s=n.n(i),r=(n(12),n(2)),a=n.p+"static/media/logo.3624414e.png",o=n(0);var l=function(t){var e=t.id,n=t.value,c=t.setValue;return Object(o.jsxs)("div",{className:"switch",children:[Object(o.jsx)("input",{className:"switch__input",type:"checkbox",id:e,checked:n,onChange:function(t){return c(t.target.checked)}}),Object(o.jsx)("label",{className:"switch__fake-label shadow-md",htmlFor:e,children:"Toggle"})]})};function u(t){var e=t.isInfiniteMode,n=t.setIsInfiniteMode;return Object(c.useEffect)((function(){e||("Notification"in window?"granted"===Notification.permission&&"denied"===Notification.permission||Notification.requestPermission().then((function(t){"denied"===t&&alert("You will not receive Notifications about the end of the Round until you turn it on in your Browser.")})):alert("This browser does not support desktop notification"))}),[e]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"tooltip",children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",fill:"var(--color-primary)",children:Object(o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),Object(o.jsx)("div",{className:"tooltipText",children:"Select the Timer Mode:\n                      \ud83d\udc31\u200d\ud83d\udc64: Stops each round and asks to continue,\n                      \ud83d\udc31\u200d\ud83c\udfcd: Does not stop at all and starts a new round"})]}),Object(o.jsx)("label",{title:"Notification mode",htmlFor:e?"timer-mode":"",className:[e?"cursor-pointer":""],children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:e?"var(--color-neutral)":"var(--color-primary)",children:Object(o.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})})}),Object(o.jsx)(l,{id:"timer-mode",value:e,setValue:n}),Object(o.jsx)("label",{title:"Infinite mode",htmlFor:e?"":"timer-mode",className:[e?"":"cursor-pointer"],children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 20",height:"24px",fill:e?"var(--color-primary)":"var(--color-neutral)",children:Object(o.jsx)("path",{d:"M18.6 6.62c-1.44 0-2.8.56-3.77 1.53L7.8 14.39c-.64.64-1.49.99-2.4.99-1.87 0-3.39-1.51-3.39-3.38S3.53 8.62 5.4 8.62c.91 0 1.76.35 2.44 1.03l1.13 1 1.51-1.34L9.22 8.2C8.2 7.18 6.84 6.62 5.4 6.62 2.42 6.62 0 9.04 0 12s2.42 5.38 5.4 5.38c1.44 0 2.8-.56 3.77-1.53l7.03-6.24c.64-.64 1.49-.99 2.4-.99 1.87 0 3.39 1.51 3.39 3.38s-1.52 3.38-3.39 3.38c-.9 0-1.76-.35-2.44-1.03l-1.14-1.01-1.51 1.34 1.27 1.12c1.02 1.01 2.37 1.57 3.82 1.57 2.98 0 5.4-2.41 5.4-5.38s-2.42-5.37-5.4-5.37z"})})})]})}var j=n(3),h=n(4),d=n.p+"static/media/logo512.80b61c0f.webp",b=n.p+"static/media/bell.70927a4a.mp3",m=n.p+"static/media/1-second-of-silence.434cb154.mp3",f=n(7),x=n.n(f);var v=function(t){var e=t.time,n=t.setTime,c=t.isTimerStarted,i=t.label,s=t.fancy,r=t.max,a=void 0===r?59:r,l=function(t){return 1===(t=t.toString()).length&&(t="0"+t),t},u=function(){var t,c=Number(e);t=c===a?"00":(c+1).toString(),t=l(t),n(t)},j=function(){var t,c=Number(e);t=0===c?String(a):(c-1).toString(),t=l(t),n(t)},h=function(t){c||(t.deltaY>=0?j():u())};return Object(o.jsxs)("div",{className:"".concat(s&&"time-picker-cell__input_fancy"),children:[Object(o.jsx)("label",{htmlFor:"".concat(i,"-input"),className:"block text-lg mb-4 mx-auto cursor-pointer capitalize",onWheel:function(t){return h(t)},title:"scroll to change value",children:i}),Object(o.jsxs)("div",{className:"flex flex-col gap-1",children:[Object(o.jsx)("button",{className:"time-picker-cell__arrow ".concat(c?"invisible":"visible"),onClick:u,children:Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",width:"24px",viewBox:"0 0 24 24",children:[Object(o.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(o.jsx)("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})]})}),Object(o.jsx)(x.a,{id:"".concat(i,"-input"),className:"time-picker-cell__input",value:e,mask:"99",maskChar:null,alwaysShowMask:"false",title:"scroll to change value",onWheel:function(t){return h(t)},disabled:c,onChange:function(t){n(t.target.value)},onBlur:function(t){!function(t){if(Number(t)>a)n(String(a));else{var e=l(t);n(e)}}(t.target.value)}}),Object(o.jsx)("button",{className:"time-picker-cell__arrow ".concat(c?"invisible":"visible"),onClick:j,fill:"#000000",children:Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",width:"24px",viewBox:"0 0 24 24",children:[Object(o.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(o.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})]})})]})]})};function O(t){var e=t.tick,n=t.total,i=t.time,s=Object(c.useState)(0),a=Object(r.a)(s,2),l=a[0],u=a[1],j=Object(c.useRef)(null);return Object(c.useEffect)((function(){u((function(){return function(t){console.log("total ",n),console.log("pct ",Math.floor(100*t/n));var e=Math.floor(100*t/n);return isFinite(e)&&e>0&&e<=100?e:0}(n-function(t){return 60*+t.h*60+60*+t.m+ +t.s}(i))})),u((function(t){return function(t){isFinite(t)&&t>=0&&t<=100&&(j.current.style.background="conic-gradient(var(--color-accent) ".concat(t,"%, #171a1f ").concat(t+1,"%)"))}(t),t}))}),[e]),Object(o.jsxs)("div",{className:"progress-circle",children:[Object(o.jsxs)("div",{id:"middle",children:[l,"%"]}),Object(o.jsx)("div",{ref:j,id:"spinner"})]})}var g=null,p=null,w={h:"00",m:"05",s:"00"};var N=function(t){var e=t.isInfiniteMode,n=Object(c.useState)(!1),i=Object(r.a)(n,2),s=i[0],a=i[1],l=Object(c.useState)(!0),u=Object(r.a)(l,2),f=u[0],x=u[1],N=Object(c.useState)(!0),k=Object(r.a)(N,2),S=k[0],y=k[1],M=Object(c.useState)(0),C=Object(r.a)(M,2),I=(C[0],C[1]),T=Object(c.useState)(w),_=Object(r.a)(T,2),z=_[0],B=_[1],L=Object(c.useState)(0),F=Object(r.a)(L,2),V=F[0],E=F[1],H=function(t){return 60*+t.h*60+60*+t.m+ +t.s};Object(c.useEffect)((function(){E(H(w)),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&setTimeout((function(){p&&p.close()}),300)}))}),[]);var P=function(t){return-1===t?-1:(1===(t=t.toString()).length&&(t="0"+t),t)},D=function(t,e){B((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(j.a)({},t,P(e)))}))},R=function(t){B((function(e){var n=+e[t];return Object(h.a)(Object(h.a)({},e),{},Object(j.a)({},t,P(n-1)))}))};Object(c.useEffect)((function(){document.title="".concat(+z.h?P(z.h)+":":"").concat(P(z.m),":").concat(P(z.s)," | React Timer"),s&&(A(),0===+z.h&&0===+z.m&&0===+z.s?(J(),B(w),E(H(w)),I((function(t){return t+1})),e?W():(Y(),K())):-1===+z.s&&(D("s",59),R("m"),0===+z.m&&(D("m",59),R("h"))))}),[z.s]);var Z=function(){B((function(t){var e=0===+t.h&&0===+t.m&&0===+t.s;return g||e||(g=setInterval((function(){return R("s")}),1e3),a(!0)),t}))},q=function(){B((function(t){return clearInterval(g),g=null,a(!1),t}))},A=function(){new Audio(m).play()},J=function(){new Audio(b).play()},W=function(){setTimeout((function(){p&&p.close()})),Z(),x(!1),y(!0)},Y=function(){I(0),B(w),x(!0),q()},G=function(t,e){w[e]=P(t),D(e,t),B((function(t){return E(H(t)),t}))},K=function(){(p=new Notification("Click to Play Next Round \ud83c\udfac",{body:"Timer stoped",silent:!0,icon:d,badge:d,requireInteraction:!0})).onclick=function(){return W()}};return Object(o.jsxs)("div",{className:"timer-picker",children:[Object(o.jsx)(O,{time:z,tick:z.s,total:V}),Object(o.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-5",children:[Object(o.jsx)(v,{label:"hours",time:z.h,setTime:function(t){return G(t,"h")},isTimerStarted:s,max:99,fancy:!0}),Object(o.jsx)("span",{className:"text-5xl mt-12",children:":"}),Object(o.jsx)(v,{label:"minutes",time:z.m,setTime:function(t){return G(t,"m")},isTimerStarted:s}),Object(o.jsx)("span",{className:"text-5xl mt-12",children:":"}),Object(o.jsx)(v,{label:"seconds",time:z.s,setTime:function(t){return G(t,"s")},isTimerStarted:s})]}),Object(o.jsx)("div",{className:"mt-12 flex items-center justify-center gap-7",children:f?Object(o.jsxs)("button",{className:"btn btn_success w-full",onClick:W,children:[Object(o.jsx)("svg",{width:"13",height:"14",viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M1 12.2352V1.71741C1 0.950879 1.82696 0.469358 2.4936 0.847721L11.5088 5.96447C12.1749 6.34253 12.1862 7.29838 11.5292 7.69199L2.51393 13.093C1.84739 13.4923 1 13.0122 1 12.2352Z"})}),Object(o.jsx)("span",{children:"Start"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("button",{className:"btn btn_danger w-1/2",onClick:Y,children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14",children:Object(o.jsx)("rect",{width:"12",height:"14",rx:"2"})}),Object(o.jsx)("span",{children:"Stop"})]}),S?Object(o.jsxs)("button",{className:"btn btn_fancy w-1/2",onClick:function(){y(!1),q()},children:[Object(o.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M0 14H4V0H0V14ZM8 0V14H12V0H8Z"})}),Object(o.jsx)("span",{children:"Pause"})]}):Object(o.jsxs)("button",{className:"btn btn_fancy w-1/2",onClick:function(){y(!0),Z()},children:[Object(o.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M1 12.2352V1.71741C1 0.950879 1.82696 0.469358 2.4936 0.847721L11.5088 5.96447C12.1749 6.34253 12.1862 7.29838 11.5292 7.69199L2.51393 13.093C1.84739 13.4923 1 13.0122 1 12.2352Z"})}),Object(o.jsx)("span",{children:"Play"})]})]})})]})};var k=function(){var t,e,n=Object(c.useState)(null===(e="isInfiniteMode",t=localStorage.getItem(e)?"true"===localStorage.getItem(e):null)||void 0===t||t),i=Object(r.a)(n,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){localStorage.setItem("isInfiniteMode",s)}),[s]),Object(o.jsxs)("div",{className:"hamburger container",children:[Object(o.jsxs)("header",{className:"flex items-center justify-start gap-2",children:[Object(o.jsx)("img",{className:"logo",width:"32",height:"32",src:a,alt:"logo"}),Object(o.jsx)("h1",{className:"italic mr-auto",children:"Timer"}),Object(o.jsx)(u,{isInfiniteMode:s,setIsInfiniteMode:l})]}),Object(o.jsx)("main",{children:Object(o.jsx)(N,{isInfiniteMode:s})}),Object(o.jsxs)("footer",{className:"text-sm text-right flex gap-4 justify-end items-center",children:[Object(o.jsxs)("a",{className:" link",target:"_blank",href:"https://github.com/Daniil8k",rel:"noreferrer",children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-4.466 19.59c-.405.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947 0-.874-.312-1.588-.823-2.147.082-.202.356-1.016-.079-2.117 0 0-.671-.215-2.198.82-.64-.18-1.324-.267-2.004-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147 0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666 0 0-.423-.768-1.227-.825 0 0-.78-.01-.055.487 0 0 .525.246.889 1.17 0 0 .463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59 0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"})}),Object(o.jsx)("span",{children:"Daniil8k"})]}),Object(o.jsx)("span",{children:"\xa9 timer 2021"})]})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),s(t),r(t)}))};s.a.render(Object(o.jsx)(k,{}),document.getElementById("root")),S()}},[[15,1,2]]]);
//# sourceMappingURL=main.2df0c171.chunk.js.map