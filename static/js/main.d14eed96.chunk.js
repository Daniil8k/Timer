(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{12:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(6),s=c.n(i),a=(c(12),c(2)),l=c.p+"static/media/logo.3624414e.png",o=c(0);var r=function(e){var t=e.id,c=e.value,n=e.setValue;return Object(o.jsxs)("div",{className:"switch",children:[Object(o.jsx)("input",{className:"switch__input",type:"checkbox",id:t,checked:c,onChange:function(e){return n(e.target.checked)}}),Object(o.jsx)("label",{className:"switch__fake-label shadow-md",htmlFor:t,children:"Toggle"})]})};function u(e){var t=e.isInfiniteMode,c=e.setIsInfiniteMode;return Object(n.useEffect)((function(){t||("Notification"in window?"granted"===Notification.permission&&"denied"===Notification.permission||Notification.requestPermission().then((function(e){"denied"===e&&alert("You will not receive Notifications about the end of the Round until you turn it on in your Browser.")})):alert("This browser does not support desktop notification"))}),[t]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"tooltip",children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",fill:"var(--color-primary)",children:Object(o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),Object(o.jsx)("div",{className:"tooltipText",children:"Select the Timer Mode:\n                      \ud83d\udc31\u200d\ud83d\udc64: Stops each round and asks to continue,\n                      \ud83d\udc31\u200d\ud83c\udfcd: Does not stop at all and starts a new round"})]}),Object(o.jsx)("label",{title:"Notification mode",htmlFor:t?"timer-mode":"",className:[t?"cursor-pointer":""],children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:t?"var(--color-neutral)":"var(--color-primary)",children:Object(o.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})})}),Object(o.jsx)(r,{id:"timer-mode",value:t,setValue:c}),Object(o.jsx)("label",{title:"Infinite mode",htmlFor:t?"":"timer-mode",className:[t?"":"cursor-pointer"],children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 20",height:"24px",fill:t?"var(--color-primary)":"var(--color-neutral)",children:Object(o.jsx)("path",{d:"M18.6 6.62c-1.44 0-2.8.56-3.77 1.53L7.8 14.39c-.64.64-1.49.99-2.4.99-1.87 0-3.39-1.51-3.39-3.38S3.53 8.62 5.4 8.62c.91 0 1.76.35 2.44 1.03l1.13 1 1.51-1.34L9.22 8.2C8.2 7.18 6.84 6.62 5.4 6.62 2.42 6.62 0 9.04 0 12s2.42 5.38 5.4 5.38c1.44 0 2.8-.56 3.77-1.53l7.03-6.24c.64-.64 1.49-.99 2.4-.99 1.87 0 3.39 1.51 3.39 3.38s-1.52 3.38-3.39 3.38c-.9 0-1.76-.35-2.44-1.03l-1.14-1.01-1.51 1.34 1.27 1.12c1.02 1.01 2.37 1.57 3.82 1.57 2.98 0 5.4-2.41 5.4-5.38s-2.42-5.37-5.4-5.37z"})})})]})}var d=c(3),b=c(4),j=c.p+"static/media/logo512.80b61c0f.webp",h=c(7),m=c.n(h);var v=function(e){var t=e.time,c=e.setTime,n=e.isTimerStarted,i=e.label,s=e.fancy,a=e.max,l=void 0===a?59:a,r=function(e){return 1===(e=e.toString()).length&&(e="0"+e),e},u=function(){var e,n=Number(t);e=n===l?"00":(n+1).toString(),e=r(e),c(e)},d=function(){var e,n=Number(t);e=0===n?String(l):(n-1).toString(),e=r(e),c(e)},b=function(e){n||(e.deltaY>=0?d():u())};return Object(o.jsxs)("div",{className:"".concat(s&&"time-picker-cell__input_fancy"),children:[Object(o.jsx)("label",{htmlFor:"".concat(i,"-input"),className:"block text-lg mb-4 mx-auto cursor-pointer capitalize",onWheel:function(e){return b(e)},title:"scroll to change value",children:i}),Object(o.jsxs)("div",{className:"flex flex-col gap-1",children:[Object(o.jsx)("button",{className:"time-picker-cell__arrow ".concat(n?"invisible":"visible"),onClick:u,children:Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",width:"24px",viewBox:"0 0 24 24",children:[Object(o.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(o.jsx)("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"})]})}),Object(o.jsx)(m.a,{id:"".concat(i,"-input"),className:"time-picker-cell__input",value:t,mask:"99",maskChar:null,alwaysShowMask:"false",title:"scroll to change value",onWheel:function(e){return b(e)},disabled:n,onChange:function(e){c(e.target.value)},onBlur:function(e){!function(e){if(Number(e)>l)c(String(l));else{var t=r(e);c(t)}}(e.target.value)}}),Object(o.jsx)("button",{className:"time-picker-cell__arrow ".concat(n?"invisible":"visible"),onClick:d,fill:"#000000",children:Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",width:"24px",viewBox:"0 0 24 24",children:[Object(o.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(o.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})]})})]})]})};function f(e){var t=e.tick,c=e.total,i=e.time,s=Object(n.useState)(0),l=Object(a.a)(s,2),r=l[0],u=l[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){u((function(){return function(e){console.log("total ",c),console.log("pct ",Math.floor(100*e/c));var t=Math.floor(100*e/c);return isFinite(t)&&t>0&&t<=100?t:0}(c-function(e){return 60*+e.h*60+60*+e.m+ +e.s}(i))})),u((function(e){return function(e){isFinite(e)&&e>=0&&e<=100&&(d.current.style.background="conic-gradient(var(--color-accent) ".concat(e,"%, #171a1f ").concat(e+1,"%)"))}(e),e}))}),[t]),Object(o.jsxs)("div",{className:"progress-circle",children:[Object(o.jsxs)("div",{id:"middle",children:[r,"%"]}),Object(o.jsx)("div",{ref:d,id:"spinner"})]})}var x=c.p+"static/media/1-second-of-silence.434cb154.mp3",p=c.p+"static/media/bell.70927a4a.mp3",g=c.p+"static/media/bird.bbc89c7e.wav",O=c.p+"static/media/car.d42490cb.wav",w=c.p+"static/media/cat.b4544074.wav",N=c.p+"static/media/dog.08f49e2a.wav",k=c.p+"static/media/doorbell.37f478bf.wav",S=c.p+"static/media/horse.6e780ed2.wav",y=c.p+"static/media/lion.d905aa2d.wav",_=c.p+"static/media/notify.60f7268a.wav",C=c.p+"static/media/rooster.d3f42f81.wav",M=c.p+"static/media/service.d674969e.wav",I=c.p+"static/media/toy.1ce36ad9.wav",L=null,T=null,B={h:"00",m:"05",s:"00"};var z=function(e){var t=e.isInfiniteMode,c=Object(n.useState)(!1),i=Object(a.a)(c,2),s=i[0],l=i[1],r=Object(n.useState)(!0),u=Object(a.a)(r,2),h=u[0],m=u[1],z=Object(n.useState)(!0),F=Object(a.a)(z,2),V=F[0],E=F[1],H=Object(n.useState)(0),P=Object(a.a)(H,2),D=P[0],R=P[1],Z=Object(n.useState)(B),q=Object(a.a)(Z,2),A=q[0],J=q[1],W=Object(n.useState)(0),Y=Object(a.a)(W,2),G=Y[0],K=Y[1],Q=Object(n.useState)(localStorage.getItem("sound")||p),U=Object(a.a)(Q,2),X=U[0],$=U[1],ee=[{label:"Bell",value:p},{label:"Bird",value:g},{label:"Car",value:O},{label:"Cat",value:w},{label:"Dog",value:N},{label:"Doorbell",value:k},{label:"Horse",value:S},{label:"Lion",value:y},{label:"Notify",value:_},{label:"Rooster",value:C},{label:"Service",value:M},{label:"Toy",value:I}],te=function(e){return 60*+e.h*60+60*+e.m+ +e.s},ce=function(){"visible"===document.visibilityState&&setTimeout((function(){T&&T.close()}),300)},ne=function(e){switch(e.key.toLowerCase()){case"p":case"\u0437":l((function(e){return e?je():be(),e}));break;case"escape":he()}};Object(n.useEffect)((function(){return K(te(B)),document.addEventListener("visibilitychange",ce),document.addEventListener("keydown",ne),function(){document.removeEventListener("visibilitychange",ce),document.removeEventListener("keydown",ne)}}),[]);var ie=function(e){return-1===e?-1:(1===(e=e.toString()).length&&(e="0"+e),e)},se=function(e,t){J((function(c){return Object(b.a)(Object(b.a)({},c),{},Object(d.a)({},e,ie(t)))}))},ae=function(e){J((function(t){var c=+t[e];return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e,ie(c-1)))}))};Object(n.useEffect)((function(){document.title="".concat(+A.h?ie(A.h)+":":"").concat(ie(A.m),":").concat(ie(A.s)," | React Timer"),s&&(re(),0===+A.h&&0===+A.m&&0===+A.s?(ue(),J(B),K(te(B)),R((function(e){return e+1})),t?de():(he(),ve())):-1===+A.s&&(se("s",59),ae("m"),0===+A.m&&(se("m",59),ae("h"))))}),[A.s]);var le=function(){J((function(e){var t=0===+e.h&&0===+e.m&&0===+e.s;return L||t||(L=setInterval((function(){return ae("s")}),1e3),l(!0)),e}))},oe=function(){J((function(e){return clearInterval(L),L=null,l(!1),e}))},re=function(){new Audio(x).play()},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=new Audio(e);t.play()},de=function(){setTimeout((function(){T&&T.close()})),le(),m(!1),E(!0)},be=function(){m(!1),E(!0),le()},je=function(){m(!1),E(!1),oe()},he=function(){R(0),J(B),m(!0),oe()},me=function(e,t){B[t]=ie(e),se(t,e),J((function(e){return K(te(e)),e}))},ve=function(){(T=new Notification("Click to Play Next Round \ud83c\udfac",{body:"Timer stoped",silent:!0,icon:j,badge:j,requireInteraction:!0})).onclick=function(){return de()}};return Object(o.jsxs)("div",{className:"timer-picker",children:[Object(o.jsxs)("div",{className:"flex items-center justify-around gap-2",children:[Object(o.jsxs)("div",{className:"info-block",children:[Object(o.jsx)("label",{className:"info-block__label",children:"Round"}),Object(o.jsx)("div",{className:"info-block__content ",children:D})]}),Object(o.jsx)(f,{time:A,tick:A.s,total:G}),Object(o.jsxs)("div",{className:"info-block",children:[Object(o.jsx)("label",{className:"info-block__label",children:"Sound"}),Object(o.jsxs)("div",{className:"info-block__select-wrapper",children:[Object(o.jsx)("select",{onChange:function(e){localStorage.setItem("sound",e.target.value),ue(e.target.value),$(e.target.value)},value:X,className:"info-block__content info-block__select",children:ee.map((function(e){return Object(o.jsx)("option",{value:e.value,children:e.label},e.label)}))}),Object(o.jsx)("svg",{className:"arrow",xmlns:"http://www.w3.org/2000/svg",height:"20px",width:"20px",viewBox:"0 0 24 24",fill:"#000000",children:Object(o.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})]})]})]}),Object(o.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-5",children:[Object(o.jsx)(v,{label:"hours",time:A.h,setTime:function(e){return me(e,"h")},isTimerStarted:s,max:99,fancy:!0}),Object(o.jsx)("span",{className:"text-5xl mt-12",children:":"}),Object(o.jsx)(v,{label:"minutes",time:A.m,setTime:function(e){return me(e,"m")},isTimerStarted:s}),Object(o.jsx)("span",{className:"text-5xl mt-12",children:":"}),Object(o.jsx)(v,{label:"seconds",time:A.s,setTime:function(e){return me(e,"s")},isTimerStarted:s})]}),Object(o.jsx)("div",{className:"mt-12 flex items-center justify-center gap-7",children:h?Object(o.jsxs)("button",{title:"Start (p)",className:"btn btn_success w-full",onClick:de,children:[Object(o.jsx)("svg",{width:"13",height:"14",viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M1 12.2352V1.71741C1 0.950879 1.82696 0.469358 2.4936 0.847721L11.5088 5.96447C12.1749 6.34253 12.1862 7.29838 11.5292 7.69199L2.51393 13.093C1.84739 13.4923 1 13.0122 1 12.2352Z"})}),Object(o.jsx)("span",{children:"Start"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("button",{title:"Stop (ESC)",className:"btn btn_danger w-1/2",onClick:he,children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14",children:Object(o.jsx)("rect",{width:"12",height:"14",rx:"2"})}),Object(o.jsx)("span",{children:"Stop"})]}),V?Object(o.jsxs)("button",{title:"Pause (p)",className:"btn btn_fancy w-1/2",onClick:je,children:[Object(o.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M0 14H4V0H0V14ZM8 0V14H12V0H8Z"})}),Object(o.jsx)("span",{children:"Pause"})]}):Object(o.jsxs)("button",{title:"Play (p)",className:"btn btn_fancy w-1/2",onClick:be,children:[Object(o.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M1 12.2352V1.71741C1 0.950879 1.82696 0.469358 2.4936 0.847721L11.5088 5.96447C12.1749 6.34253 12.1862 7.29838 11.5292 7.69199L2.51393 13.093C1.84739 13.4923 1 13.0122 1 12.2352Z"})}),Object(o.jsx)("span",{children:"Play"})]})]})})]})};var F=function(){var e,t,c=Object(n.useState)(null===(t="isInfiniteMode",e=localStorage.getItem(t)?"true"===localStorage.getItem(t):null)||void 0===e||e),i=Object(a.a)(c,2),s=i[0],r=i[1];return Object(n.useEffect)((function(){localStorage.setItem("isInfiniteMode",s)}),[s]),Object(o.jsxs)("div",{className:"hamburger container",children:[Object(o.jsxs)("header",{className:"flex items-center justify-start gap-2",children:[Object(o.jsx)("img",{className:"logo",width:"32",height:"32",src:l,alt:"logo"}),Object(o.jsx)("h1",{className:"italic mr-auto",children:"Timer"}),Object(o.jsx)(u,{isInfiniteMode:s,setIsInfiniteMode:r})]}),Object(o.jsx)("main",{children:Object(o.jsx)(z,{isInfiniteMode:s})}),Object(o.jsxs)("footer",{className:"text-sm text-right flex gap-4 justify-end items-center",children:[Object(o.jsxs)("a",{className:" link",target:"_blank",href:"https://github.com/Daniil8k",rel:"noreferrer",children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-4.466 19.59c-.405.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947 0-.874-.312-1.588-.823-2.147.082-.202.356-1.016-.079-2.117 0 0-.671-.215-2.198.82-.64-.18-1.324-.267-2.004-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147 0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666 0 0-.423-.768-1.227-.825 0 0-.78-.01-.055.487 0 0 .525.246.889 1.17 0 0 .463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59 0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"})}),Object(o.jsx)("span",{children:"Daniil8k"})]}),Object(o.jsx)("span",{children:"\xa9 timer 2021"})]})]})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))};s.a.render(Object(o.jsx)(F,{}),document.getElementById("root")),V()}},[[15,1,2]]]);
//# sourceMappingURL=main.d14eed96.chunk.js.map